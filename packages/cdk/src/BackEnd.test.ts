import { BackEnd } from './stack';
import { App, Stack } from 'aws-cdk-lib';
import { MedplumInfraConfig } from '@medplum/core';

describe('BackEnd', () => {
  it('should instantiate without errors', () => {
    const app = new App();
    const stack = new Stack(app, 'TestStack');
    const config: MedplumInfraConfig = {
      name: 'test',
      region: 'us-east-1',
      accountNumber: '123456789012',
      stackName: 'TestStack',
      domainName: 'test.com',
      certificateArn: 'arn:aws:acm:us-east-1:123456789012:certificate/12345678-1234-1234-1234-123456789012',
      databasePassword: 'password',
      emailFromAddress: 'test@test.com',
      emailReplyToAddress: 'test@test.com',
      enableEmail: false,
      enableSms: false,
      enableVoice: false,
      enablePush: false,
      enableFax: false,
      enablePrint: false,
      enablePatientPortal: false,
      enableAdmin: false,
      enableWebsockets: false,
      enableSubscriptions: false,
      enableAuditLog: false,
      enableAccessLog: false,
      enableErrorLog: false,
      enableGraphQL: false,
      enableS3: false,
      enableSES: false,
      enableSNS: false,
      enableSQS: false,
      enableDynamoDB: false,
      enableCognito: false,
      enableIam: false,
      enableCloudTrail: false,
      enableCloudWatch: false,
      enableXRay: false,
      enableKms: false,
      enableSecretsManager: false,
      enableSsm: false,
      enableRds: false,
      enableAthena: false,
      enableGlue: false,
      enableQuicksight: false,
      enableRedshift: false,
      enableLocation: false,
      enableForecast: false,
      enableComprehend: false,
      enableTranslate: false,
      enablePolly: false,
      enableTranscribe: false,
      enableRekognition: false,
      enableTextract: false,
      enableKendra: false,
      enableLex: false,
      enableConnect: false,
      enableChime: false,
      enableSumerian: false,
      enablePinpoint: false,
      enablePersonalize: false,
      enableAmplify: false,
      enableAppSync: false,
      enableCodeStar: false,
      enableCodeCommit: false,
      enableCodeBuild: false,
      enableCodeDeploy: false,
      enableCodePipeline: false,
      enableStepFunctions: false,
      enableLambda: false,
      enableApiGateway: false,
      enableAppRunner: false,
      enableEcs: false,
      enableEks: false,
      enableBatch: false,
      enableEcr: false,
      enableLightsail: false,
      enableEc2: false,
      enableElasticBeanstalk: false,
      enableS3: false,
      enableCloudFront: false,
      enableRoute53: false,
      enableWaf: false,
      enableShield: false,
      enableFirewallManager: false,
      enableVpc: false,
      enableDirectConnect: false,
      enableTransitGateway: false,
      enableGlobalAccelerator: false,
      enableRoboMaker: false,
      enableIoT: false,
      enableGreengrass: false,
      enableSnowball: false,
      enableGroundStation: false,
      enableStorageGateway: false,
      enableDatabaseMigrationService: false,
      enableDataSync: false,
      enableTransfer: false,
      enableDataPipeline: false,
      enableGlacier: false,
      enableBackup: false,
      enableEfs: false,
      enableFsx: false,
      enableS3ObjectLambda: false,
      enableMacie: false,
      enableGuardDuty: false,
      enableInspector: false,
      enableDetective: false,
      enableSecurityHub: false,
      enableResourceAccessManager: false,
      enableOrganizations: false,
      enableCostExplorer: false,
      enableBudgets: false,
      enableControlTower: false,
      enableSystemsManager: false,
      enableTrustedAdvisor: false,
      enableHealth: false,
      enableManagedBlockchain: false,
      enableQuantumLedgerDatabase: false,
      enableBlockchain: false,
      enableTimestream: false,
      enableDocumentDB: false,
      enableNeptune: false,
      enableKeyspaces: false,
      enableManagedStreamingForKafka: false,
      enableKinesis: false,
      enableKinesisVideoStreams: false,
      enableKinesisDataFirehose: false,
      enableKinesisDataAnalytics: false,
      enableDataBrew: false,
      enableGlueDataBrew: false,
      enableQuickSight: false,
      enableAthena: false,
      enableRedshift: false,
      enableElasticsearchService: false,
      enableLakeFormation: false,
      enableDataCatalog: false,
      enableEmr: false,
      enableDataLifecycleManager: false,
      enableStorageGateway: false,
      enableDms: false,
      enableMigrationHub: false,
      enableSnowball: false,
      enableTransfer: false,
      enableMarketplace: false,
      enableMarketplaceCatalog: false,
      enableSavingsPlans: false,
      enableCostAndUsageReport: false,
      enableComputeOptimizer: false,
      enableWellArchitectedTool: false,
      enableAmplify: false,
      enableAppRunner: false,
      enableAppMesh: false,
      enableApiGateway: false,
      enableAppStream: false,
      enableAppFlow: false,
      enableAutoScaling: false,
      enableBackup: false,
      enableBatch: false,
      enableChime: false,
      enableCloud9: false,
      enableCloudFormation: false,
      enableCloudFront: false,
      enableCloudHsm: false,
      enableCloudSearch: false,
      enableCloudTrail: false,
      enableCodeArtifact: false,
      enableCodeBuild: false,
      enableCodeCommit: false,
      enableCodeDeploy: false,
      enableCodeGuru: false,
      enableCodePipeline: false,
      enableCodeStar: false,
      enableCodeStarConnections: false,
      enableCodeStarNotifications: false,
      enableCognito: false,
      enableCommander: false,
      enableComputeOptimizer: false,
      enableConfig: false,
      enableConnect: false,
      enableConnectContactLens: false,
      enableControlTower: false,
      enableCostExplorer: false,
      enableCustomerProfiles: false,
      enableDax: false,
      enableDeepComposer: false,
      enableDeepLens: false,
      enableDeepLearningContainers: false,
      enableDeepRacer: false,
      enableDetective: false,
      enableDevOpsGuru: false,
      enableDirectConnect: false,
      enableDirectoryService: false,
      enableDms: false,
      enableDocDb: false,
      enableDynamoDb: false,
      enableEbs: false,
      enableEc2: false,
      enableEc2AutoScaler: false,
      enableEc2ImageBuilder: false,
      enableEc2InstanceConnect: false,
      enableEcr: false,
      enableEcs: false,
      enableEfs: false,
      enableEks: false,
      enableElasticBeanstalk: false,
      enableElasticInference: false,
      enableElasticTranscoder: false,
      enableElastiCache: false,
      enableElementalMediaConvert: false,
      enableElementalMediaLive: false,
      enableElementalMediaPackage: false,
      enableElementalMediaStore: false,
      enableElementalMediaTailor: false,
      enableEmr: false,
      enableEventBridge: false,
      enableFargate: false,
      enableFinspace: false,
      enableFirewallManager: false,
      enableFis: false,
      enableFms: false,
      enableForecast: false,
      enableFraudDetector: false,
      enableFsx: false,
      enableGameLift: false,
      enableGlacier: false,
      enableGlobalAccelerator: false,
      enableGlue: false,
      enableGreengrass: false,
      enableGroundStation: false,
      enableGuardDuty: false,
      enableHealthLake: false,
      enableHoneycode: false,
      enableIam: false,
      enableIdentityStore: false,
      enableImageBuilder: false,
      enableInspector: false,
      enableIot: false,
      enableIot1Click: false,
      enableIotAnalytics: false,
      enableIotDeviceDefender: false,
      enableIotDeviceManagement: false,
      enableIotEvents: false,
      enableIotFleetHub: false,
      enableIotGreengrass: false,
      enableIotSiteWise: false,
      enableIotThingsGraph: false,
      enableIvs: false,
      enableKendra: false,
      enableKinesis: false,
      enableKinesisVideoStreams: false,
      enableKms: false,
      enableLakeFormation: false,
      enableLambda: false,
      enableLex: false,
      enableLicenseManager: false,
      enableLightsail: false,
      enableLocation: false,
      enableLookoutMetrics: false,
      enableLookoutVision: false,
      enableMacie: false,
      enableManagedBlockchain: false,
      enableMarketplace: false,
      enableMediaConnect: false,
      enableMediaConvert: false,
      enableMediaLive: false,
      enableMediaPackage: false,
      enableMediaStore: false,
      enableMediaTailor: false,
      enableMigrationHub: false,
      enableMq: false,
      enableMsk: false,
      enableMwaa: false,
      enableNimbleStudio: false,
      enableOpsWorks: false,
      enableOrganizations: false,
      enableOutposts: false,
      enablePanorama: false,
      enablePersonalize: false,
      enablePinpoint: false,
      enablePolly: false,
      enableProton: false,
      enableQldb: false,
      enableQuicksight: false,
      enableRam: false,
      enableRds: false,
      enableRedshift: false,
      enableRekognition: false,
      enableResourceGroups: false,
      enableRoboMaker: false,
      enableRoute53: false,
      enableS3: false,
      enableSageMaker: false,
      enableSavingsPlans: false,
      enableSchemas: false,
      enableSecretsManager: false,
      enableSecurityHub: false,
      enableServerlessApplicationRepository: false,
      enableServiceCatalog: false,
      enableServiceDiscovery: false,
      enableServiceQuotas: false,
      enableSes: false,
      enableShield: false,
      enableSigner: false,
      enableSns: false,
      enableSqs: false,
      enableSsm: false,
      enableStepFunctions: false,
      enableStorageGateway: false,
      enableSts: false,
      enableSupport: false,
      enableSwf: false,
      enableSynthetics: false,
      enableTextract: false,
      enableTimestream: false,
      enableTranscribe: false,
      enableTransfer: false,
      enableTranslate: false,
      enableWaf: false,
      enableWellArchitectedTool: false,
      enableWorkDocs: false,
      enableWorkLink: false,
      enableWorkMail: false,
      enableWorkSpaces: false,
      enableXRay: false,
    };
    const backEnd = new BackEnd(stack, config);
    expect(backEnd).toBeDefined();
  });
});
